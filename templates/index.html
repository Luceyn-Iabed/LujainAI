<!DOCTYPE html>
<html lang="tr">

<head>
<meta charset="utf-8">
<title>LujainAI Akciğer Opasite Tespiti</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Göğüs röntgenlerinde opasiteleri tespit etmek için AI destekli ücretsiz bir masaüstü aracı.">

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- CSS Dosyaları -->
<link rel="stylesheet" href="/static/css/w3.css">
<link rel="stylesheet" href="/static/css/mammo.css">


<!-- Google Fonts'tan font bağlantısı -->
<link href="https://fonts.googleapis.com/css?family=Oswald:300" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">


<link rel="shortcut icon" type="image/png" href="https://media.gettyimages.com/id/2159301017/vector/artificial-intelligence-ai-with-female-face-icon-on-white-background.jpg?s=612x612&w=gi&k=20&c=ByAmCCjdqWz8odC6RIgXy8PUvI1REitZm_9o_fxe1w8=">

<!-- Bu kod, örnek resimleri önceden yükleyerek, kullanıcıların
resimlere tıkladığında, kesintisiz bir şekilde geçiş yapabilmelerini sağlar,
yani resimlere tıklanırken titreme olmaz.-->
<link rel="preload" href="../static/sample_images/114.png" as="image">
<link rel="preload" href="static/sample_images/tb0688.png" as="image">
<link rel="preload" href="static/sample_images/h4985.png" as="image">



<style>
html,body,h2,h3,h4,p,h5,li {font-family: Roboto, "Helvetica", "Arial", sans-serif}
</style>


<style>
  /* Modal overlay style */
  .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.6);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        /* Modal content style */
        .modal-content {
            background-color: #fff;
            padding: 20px;
            width: 50%;
            max-width: 500px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            text-align: center;
            position: relative;
        }

        /* Close button style */
        .close-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #f44336;
            color: #fff;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }

        .close-btn:hover {
            background-color: #d32f2f;
        }

        /* Warning text style */
        .modal-content h2 {
            color: #f44336;
        }

        .modal-content p {
            font-size: 16px;
            color: #333;
            line-height: 1.6;
        }
/* Yükleme Göstergesi
https://www.w3schools.com/howto/tryit.asp?filename=tryhow_css_loader
*/

.loader {
  border: 16px solid #f3f3f3;
  border-radius: 50%;
  border-top: 16px solid #3498db;
  width: 70px;
  height: 70px;
  -webkit-animation: spin 2s linear infinite; /* Safari */
  animation: spin 2s linear infinite;
}

/* Safari */
@-webkit-keyframes spin {
  0% { -webkit-transform: rotate(0deg); }
  100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
body {
            font-family: Arial, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 800px;
            margin: 50px auto;
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .result {
            text-align: center;
            padding: 20px;
            background-color: #e1f7d5;
            border-radius: 8px;
            margin-bottom: 20px;
        }

        .result h2 {
            margin: 0;
            font-size: 24px;
            color: #4CAF50;
        }

        .result p {
            font-size: 18px;
            color: #555;
        }

        .legal-notice {
            background-color: #f8f8f8;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            text-align: center;
            font-size: 16px;
            color: #555;
            border: 1px solid #e0e0e0;
        }

        .legal-notice a {
            color: #2196F3;
            text-decoration: none;
        }

        .legal-notice a:hover {
            text-decoration: underline;
        }

        .upload-section {
            text-align: center;
            margin-bottom: 20px;
        }

        .upload-section input[type="file"] {
            font-size: 16px;
            padding: 10px;
        }

        .button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 20px;
        }

        .button:hover {
            background-color: #45a049;
        }
		
      

       /* تنسيق شريط العنوان */
.headbar {
  background-color: #333;
  overflow: hidden;
  padding: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
}
.marginleft{
	margin: 20px;
}


</style>

</head>




<body class="bground-color"> <!-- body -->
	

    <script>
        // Function to show the modal
        function showModal() {
            document.getElementById('modal').style.display = 'flex';
        }

        // Function to close the modal
        function closeModal() {
            document.getElementById('modal').style.display = 'none';
        }
    </script>
<!-- w3-content, sabit boyutlu ve sayfa ortasında merkezi olan bir içerik kabı tanımlar,
ve tüm sayfa içeriği bu kabın etrafına sarılır. -->
<div class="w3-content" style="max-width:1500px"> <!-- w3-content -->
<div class="headbar">
	<!-- Button to show modal -->
	 <div class="marginleft">
    <button class="w3-btn w3-purple w3-hover-blue w3-round adjust-spacing btn-font w3-padding w3-space-letters w3-text-white" onclick="showModal()">Yasal Bildirimi Göster</button>
</div>
<!-- Button that will be shown after image upload -->
<button id="go-home-btn" class="w3-btn w3-purple w3-hover-blue w3-round adjust-spacing btn-font w3-padding w3-space-letters w3-text-white" onclick="goHome()">Ana Sayfaya Dön</button>
</div>
<!-- Modal structure -->
<div id="modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
        <button class="close-btn" onclick="closeModal()">Kapat</button>
		<h2>Yasal Bildirim</h2>
<p>
    Bu site, yalnızca yüklenen tıbbi görüntülerden otomatik analiz sağlayan bir platformdur.
    <br>
    Elde edilen sonuçlar rehberlik amaçlıdır ve kesinlikle uzman bir doktor tarafından yapılan muayenenin yerini tutmaz.
</p>
<p>
    Siteyi kullanarak, sonuçların yalnızca bilgi amaçlı olduğunu kabul etmiş sayılırsınız. Geliştirici ekip, bu sonuçlara dayanılarak yapılan işlemlerden sorumlu tutulamaz.
</p>
<p>
    Bu site, kullanıcıların kişisel verilerini toplamaz ve yalnızca yasal zorunluluklar çerçevesinde veri paylaşımı yapılabilir.
</p>
<p>
    Site, yalnızca tıbbi görüntülerin analizini sağlar ve bu nedenle hiçbir şekilde tedavi, teşhis veya tıbbi müdahale amacı taşımaz.
</p>
<p>
    <strong>Yasal Sorumluluk</strong>: Site, yalnızca kullanıcıya bilgi sağlamayı amaçlar. Kullanıcı, bu siteyi kullandığında, sitenin tıbbi tavsiye, tedavi veya teşhis sağlamak amacıyla kullanılmaması gerektiğini kabul eder. Geliştirici ekip, sitenin kullanımı sonucunda oluşabilecek herhangi bir zarar veya kayıptan sorumlu tutulamaz.
</p>

    </div>
</div>

<!-- 1. ANASAYFA -->
<div class="w3-animate-opacity"> <!-- anasayfa -->
	


<!-- 1200 genişlik ayarlanabilir.
Ancak burada, kullanıcı ekranının genişliğinin kullanılabilmesi için maksimum genişlik %100 olarak ayarlandı.-->
<div class='w3-content w3-round w3-center w3-margin-top' style="max-width:100%"><!-- 1200 genişlik bölgesi -->



	<div class="w3-padding-bottom w3-center unblock"> <!-- bölge 1 -->


		<div class="w3-margin-right w3-margin-left" id="ajaxResponse">
			<img id="selected-image" onclick="hide_show_bboxes(this.src, this.id)" class="w3-round unblock" src="/static/assets/tb0688.png"
				 height="580" alt="Analiz için resim">
		</div>


		<!-- BUNU SİLME
		Bu div, dosya yüklemelerini yöneten AJAX kodunda kullanılır.
		Resimleri bu şekilde gizli bir öğeye yüklemek, onları önceden yüklemek gibidir.
		Bu şekilde, kullanıcılar bir resimi görüntülemek için bağlantıya tıkladığında
		hemen yüklenir.-->

		<div class="hide" id="load-images-hidden">
			<!--
			<img class="w3-round unblock" src="/static/png-images/2ddfad7286c2b016931ceccd1e2c7bbc.png" height="550">
		
			Yüklenen resimler, bu gizli div öğesine yerleştirilir ve bu resimler burada yüklenir.
			Resim yükleme işlemini yöneten AJAX koduna bakınız.
			-->
		</div>
		
		<!--
		Bu yükleme kodu ne yapıyor?
		
		1- Kullanıcı butona tıkladığında, dosya girişi (id="image-selector") üzerine bir tıklama simüle edilir.
		Bu, kullanıcının yüklemek için dosya seçmesini sağlar.
		2- Kullanıcı dosyaları seçtiğinde, bir onchange olayı tetiklenir, bu da id="upload-file-btn" olan butona tıklama simüle eder.
		Bu, dosyaların gönderilmesini sağlar.
		
		-->
		<!-- Buton -->
		<div id="btnn" class="w3-center w3-margin-top">
			<button class="w3-btn w3-purple w3-hover-blue w3-round adjust-spacing btn-font w3-padding w3-space-letters w3-text-white" onclick="setTimeout(simulateClick.bind(null, 'image-selector'), 200)"  > Göğüs Röntgeni Gönder </button>
			<p class="w3-small w3-text-purple">dicom, png ve jpg formatlarını destekler</p>
		</div>
		
		<form id="upload-file" method="post" enctype="multipart/form-data">
			<div class="hide">
				<input id="image-selector" name="my_files" type="file" multiple>
		
				<button id="upload-file-btn" type="button">Yükle</button>
			</div>
		</form>
		
		</div><!-- Bölge 1 -->
		
		
		
		<!-- Sonuçlar Kutusu -->
		<div class="w3-center w3-round text-color space-letters dont-break-out unblock set-alignment results-box dark-color bottom-margin"><!-- Sonuçlar Kutusu -->
		
			<!-- Çubuk-->
			<div class="">
				<div class="w3-container w3-purple" style="height:5px;width:100%"></div>
			</div>
		
			<p class="w3-text-sand results-text">LujainAI Akciğer Opasite Dedektörü<br>
				<small>Yapay Zeka destekli yüksek hacimli teşhis desteği</small></p>
		
			<div class="w3-text-purple space-letters message-text w3-padding w3-border w3-white w3-left-align make-scrollable">
		
				<div class="w3-padding w3-white w3-margin" id="pred_message_text">
		
					<h5>Analiz sürüyor...</h5>
					<p>CPU kullanıldığında bu işlem her resim için yaklaşık 4 saniye sürer.</p>
		
					<div class="loader"></div>
		
					<p>Lütfen durumu görmek için konsola bakın.</p>
		
				</div>
		
				<div id="file-names">
		
					<div>
						<p>Örnek Sonuçlar<br>
						- Bir resmi tıklayarak sınır kutularlarını gizleyebilir veya gösterebilirsiniz<br>
						- Bir dosya adını tıklayarak resmi değiştirebilirsiniz</p>
		
		
						<!-- Bu, sayfa yüklendiğinde görünen örnek tıklanabilir resimlerdir.
						Bu resimler önceden yüklenmiştir. Başlık kısmındaki bağlantı etiketlerine bakınız.-->
						<ul>
		
		
							<li class="row w3-padding-bottom w3-text-black w3-border-right w3-border-black" onclick="ajaxSampleGetFilename(this.innerHTML)"><a href="#">1 opasite tespit edildi<br>tb0688.png</a></li>
							<li class="row w3-padding-bottom" onclick="ajaxSampleGetFilename(this.innerHTML)"><a href="#">2 opasite tespit edildi<br>114.png</a></li>
							<li class="row w3-padding-bottom" onclick="ajaxSampleGetFilename(this.innerHTML)"><a href="#">0 opasite tespit edildi<br>h4985.png</a></li>
		
						</ul>
					</div>
		
					<hr>
		
					<div>
		
						<p>-> <a href="/static/assets/Kart Bilgisi ve Uygulama Bilgisi v1.0.pdf" class="w3-text-purple">Model Kartı ve Uygulama Bilgisi</a></p>
						<p>-> <a href="/faq" class="w3-text-purple">Sıkça Sorulan Sorular</a></p>
						<p>-> <a href="https://github.com/Luceyn-Iabed/LujainAI" class="w3-text-purple">Kullanıcı geri bildirimleri</a></p>
		
					</div>
		
				</div>
		
			</div>
	</div> 
</div>

</div>




     
        
    </div>

    <script>
        
        function goHome() {
            window.location.href = '/'; 
        }
    </script>




<!-- Hosting JQuery locally because this desktop app
 must be able to run offline. -->
<script src="/static/jquery/jquery-3.6.1.min.js">
</script>


<script>

	// This is the ajax code that handles the file uploads.
	// The response that it gets back from flask is a list.
	// Each list item is html code that gets inserted into
	// different parts of the page.

    $(function() {
    $('#upload-file-btn').click(function() {

        var form_data = new FormData($('#upload-file')[0]);

		// It could happen that the user clicks the button to
		// upload files, but then clicks cancel. The prediction code could still
		// activate because the code activates onchange.
		// This if statement solves that problem. There is an id called image-selector
		// in the file <input>. This if statement checks the length.

        if(document.getElementById("image-selector").files.length != 0) {

				// Clear the previous text
				$("#file-names").text("");

				// Show the pred message text
				$("#pred_message_text").show();

				console.log(form_data);

				$.ajax({
					type: 'POST',
					url: '/upload_ajax',
					data: form_data,
					contentType: false,
					cache: false,
					processData: false,
					success: function(result){

						// Hide the pred message text
						$('#pred_message_text').hide();
						$('#faq-text').hide();

						$("#ajaxResponse").html(result.main_image_str);

						// Here we loading the images inside a hidden div element.
						// This is like pre-loading the images so they are available
						// immediately when the user clicks a link. The image display process is smooth.
						$("#load-images-hidden").html(result.image_fin_str);

						$("#file-names").html(result.html_str);

						},
				});

		} else {
		  //  No images have ben selected.
		  console.log("No files selected");
		}

    });
	});

</script>


<script>

	// This functions clicks an element with a given id.

	function simulateClick(tabID) {
		document.getElementById(tabID).click();
	}



	// This is an onchange function.
	// It detects when the user has selected the files to upload.
	// It then clicks the upload button.

	$("#image-selector").change(function() {

		// Simate a click on the button with id=upload-file-btn
		simulateClick("upload-file-btn");
	 });




	// How to highlight selected <li> item only?

	jQuery(document).ready(function(){
		jQuery('li').click(function(event){
			//remove all pre-existing active classes
			jQuery('.row').removeClass('w3-text-black w3-border-right w3-border-black');

			//add the active class to the link we clicked
			jQuery(this).addClass('w3-text-black w3-border-right w3-border-black');
			event.preventDefault();
		});
	});



	// After uploading, when the user clicks a file name this is the
	// code that gets activated.
	// This is the ajax code for replacing the main image on the page
	// with the image from a dicom file that the user has uploaded.
	// It sends the files to the flask endpoint called process_ajax.

	function ajaxGetFilename(fname) {
		$.ajax({
				type: "POST",
				url: "{{ url_for('process_ajax') }}",
				data: {'file_name': fname},
				success: function(result){
					console.log(result.output1);
							$("#ajaxResponse").html(result.output1);
						  }
		})
	}





	// When the user clicks a sample file name this is the
	// code that gets activated.
	function ajaxSampleGetFilename(fname) {

		$.ajax({
				type: "POST",
				url: "{{ url_for('process_sample_ajax') }}",
				data: {'file_name': fname},
				success: function(result){
					console.log(result.output1);
							$("#ajaxResponse").html(result.output1);
						  }
		})
	}

</script>


<script>

	// When the page loads fo the first time:
	$('#pred_message_text').hide();
	$('.active-button').hide();

</script>


	<script>

	// This is the code that makes a bbox disappear when the user clicks on a predicted image.
	// The fname is extracted from the html src attribute during the onclick event.

	function get_click_coords(event, fname) {

		// Code source: Techlearners By Neeraj Saxena

		//console.log(fname);

		// The origin (0, 0) for the coordinates is in the top left
		// corner of the image.

		// Get the x coordinate
		pos_x = event.offsetX ? (event.offsetX) : event.pageX - document.getElementById("selected-image").offsetLeft;

		// Get the y coordinate
		pos_y = event.offsetY ? (event.offsetY) : event.pageY - document.getElementById("selected-image").offsetTop;

		// Get the client side height and width of the displayed image.
		// This refers to the resized image that's displayed on the page.
		// Note: The coords we get when we click on the image
		// are relative to this client side image size.
		image_display_h = document.getElementById("selected-image").clientHeight;
		image_display_w = document.getElementById("selected-image").clientWidth;

		// Get the actual height and width of the image.
		// This is the actual size of the image that was submitted by the user.
		image_h = document.getElementById("selected-image").naturalHeight;
		image_w = document.getElementById("selected-image").naturalWidth;

		console.log(image_display_h);
		console.log(image_display_w);

		//alert(pos_x + " " + pos_y);

		// Send the info to the app.py file and get the response.
		// The endpoint to which we send the info is named: process_click_info
		$.ajax({
				type: "POST",
				url: "{{ url_for('process_click_info') }}",
				data: {'pos_x': pos_x, 'pos_y': pos_y, 'image_display_h': image_display_h, 'image_display_w': image_display_w, 'fname': fname},
				success: function(result){

							if (result.new_image_str != 'None') {

								// Display the response on the page
								$("#ajaxResponse").html(result.new_image_str);

							}

				}
		})
	}
</script>


	<script>

	// This is the code that makes a bbox disappear or appear when the user clicks on a sample image.
	// The fname is extracted from the html src attribute during the onclick event.

	function hide_show_bboxes(fname, id) {

		//console.log(fname);
		//console.log(id);

		// Send the info to the app.py file and get the response.
		// The endpoint to which we send the info is named: process_sample_image_click
		$.ajax({
				type: "POST",
				url: "{{ url_for('process_sample_image_click') }}",
				data: {'fname': fname,
						'id': id},
				success: function(result){

							if (result.new_fname != 'None') {

								//console.log(result.new_fname);

								// Change the src attribute
								document.getElementById(result.id).src = result.new_fname;

							}

				}
		})
	}
</script>


	
	
</div> <!-- w3-content -->

    <!-- Hukuki Uyarı -->
	<div class="legal-notice">
		<p>
			<strong>Hasta Veri Güvenliği</strong> 
			<br>
			<!-- Bu bir web sitesidir, bir uygulama değildir. 😊 -->
			😊 Bu bir web sitesidir. 🌐
			<br>
			<!-- Hasta verileri, kullanıcının bilgisayarından veya dizüstü bilgisayarından asla çıkmaz. 🔒 -->
			🔒 Hasta verileri, kullanıcının bilgisayarından veya dizüstü bilgisayarından asla çıkmaz. 💻🔐
			<br>
			<!-- Takip yapılmaz. 🚫 -->
			🚫 Takip yapılmaz. 🕵️‍♂️❌
			<br>
			<!-- Kod tamamen erişilebilir olduğu için kötü amaçlı yazılımlar için denetlenebilir. 🔍 -->
			🔍 Kod tamamen erişilebilir olduğu için kötü amaçlı yazılımlar için denetlenebilir. 👀⚠️
		</p>
		<p>
			<!-- Şartlar ve Koşullar linki 📜 -->
			<a href="https://policies.google.com/terms?hl=tr&fg=1" class="legal-link">Şartlar ve Koşullar 📜</a> | 
			<!-- Gizlilik Politikası linki 🔒 -->
			<a href="https://policies.google.com/privacy?hl=tr&fg=1" class="legal-link">Gizlilik Politikası 🔒</a>
		</p>
	</div>
	
</div>



</body> <!-- body -->
</html>
